<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                   xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                   xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                   id="Definitions_1"
                   targetNamespace="http://example.com/bpmn/onboarding">

  <bpmn2:process id="Process_Onboarding" name="Onboarding" isExecutable="false">

    <bpmn2:startEvent id="StartEvent_1" name="Neuer Mitarbeiter">
      <bpmn2:outgoing>Flow_ToParSplit</bpmn2:outgoing>
    </bpmn2:startEvent>

    <bpmn2:parallelGateway id="Gateway_Split" name="Parallel Start">
      <bpmn2:incoming>Flow_ToParSplit</bpmn2:incoming>
      <bpmn2:outgoing>Flow_ToIT</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_ToHR</bpmn2:outgoing>
      <bpmn2:outgoing>Flow_ToFach</bpmn2:outgoing>
    </bpmn2:parallelGateway>

    <!-- IT Lane -->
    <bpmn2:task id="Task_Laptop" name="Laptop bereitstellen">
      <bpmn2:incoming>Flow_ToIT</bpmn2:incoming>
      <bpmn2:outgoing>Flow_IT1</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Zugaenge" name="Zugänge einrichten">
      <bpmn2:incoming>Flow_IT1</bpmn2:incoming>
      <bpmn2:outgoing>Flow_IT2</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Software" name="Software installieren">
      <bpmn2:incoming>Flow_IT2</bpmn2:incoming>
      <bpmn2:outgoing>Flow_IT_Out</bpmn2:outgoing>
    </bpmn2:task>

    <!-- HR Lane -->
    <bpmn2:task id="Task_Vertrag" name="Vertrag finalisieren">
      <bpmn2:incoming>Flow_ToHR</bpmn2:incoming>
      <bpmn2:outgoing>Flow_HR1</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Schulungen" name="Schulungen planen">
      <bpmn2:incoming>Flow_HR1</bpmn2:incoming>
      <bpmn2:outgoing>Flow_HR2</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Willkommen" name="Willkommenspaket">
      <bpmn2:incoming>Flow_HR2</bpmn2:incoming>
      <bpmn2:outgoing>Flow_HR_Out</bpmn2:outgoing>
    </bpmn2:task>

    <!-- Fachbereich Lane -->
    <bpmn2:task id="Task_Einarbeitung" name="Einarbeitungsplan erstellen">
      <bpmn2:incoming>Flow_ToFach</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Fach1</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Mentor" name="Mentor zuweisen">
      <bpmn2:incoming>Flow_Fach1</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Fach2</bpmn2:outgoing>
    </bpmn2:task>
    <bpmn2:task id="Task_Aufgaben" name="Erste Aufgaben definieren">
      <bpmn2:incoming>Flow_Fach2</bpmn2:incoming>
      <bpmn2:outgoing>Flow_Fach_Out</bpmn2:outgoing>
    </bpmn2:task>

    <!-- DEFECT: Single bottleneck — all 3 parallel paths converge here -->
    <bpmn2:task id="Task_Freigabe" name="Teamlead-Freigabe">
      <bpmn2:incoming>Flow_IT_Out</bpmn2:incoming>
      <bpmn2:incoming>Flow_HR_Out</bpmn2:incoming>
      <bpmn2:incoming>Flow_Fach_Out</bpmn2:incoming>
      <bpmn2:outgoing>Flow_ToEnd</bpmn2:outgoing>
    </bpmn2:task>

    <bpmn2:endEvent id="EndEvent_1" name="Onboarding abgeschlossen">
      <bpmn2:incoming>Flow_ToEnd</bpmn2:incoming>
    </bpmn2:endEvent>

    <!-- Sequence Flows -->
    <bpmn2:sequenceFlow id="Flow_ToParSplit" sourceRef="StartEvent_1" targetRef="Gateway_Split"/>
    <bpmn2:sequenceFlow id="Flow_ToIT" sourceRef="Gateway_Split" targetRef="Task_Laptop"/>
    <bpmn2:sequenceFlow id="Flow_ToHR" sourceRef="Gateway_Split" targetRef="Task_Vertrag"/>
    <bpmn2:sequenceFlow id="Flow_ToFach" sourceRef="Gateway_Split" targetRef="Task_Einarbeitung"/>
    <bpmn2:sequenceFlow id="Flow_IT1" sourceRef="Task_Laptop" targetRef="Task_Zugaenge"/>
    <bpmn2:sequenceFlow id="Flow_IT2" sourceRef="Task_Zugaenge" targetRef="Task_Software"/>
    <bpmn2:sequenceFlow id="Flow_HR1" sourceRef="Task_Vertrag" targetRef="Task_Schulungen"/>
    <bpmn2:sequenceFlow id="Flow_HR2" sourceRef="Task_Schulungen" targetRef="Task_Willkommen"/>
    <bpmn2:sequenceFlow id="Flow_Fach1" sourceRef="Task_Einarbeitung" targetRef="Task_Mentor"/>
    <bpmn2:sequenceFlow id="Flow_Fach2" sourceRef="Task_Mentor" targetRef="Task_Aufgaben"/>
    <bpmn2:sequenceFlow id="Flow_IT_Out" sourceRef="Task_Software" targetRef="Task_Freigabe"/>
    <bpmn2:sequenceFlow id="Flow_HR_Out" sourceRef="Task_Willkommen" targetRef="Task_Freigabe"/>
    <bpmn2:sequenceFlow id="Flow_Fach_Out" sourceRef="Task_Aufgaben" targetRef="Task_Freigabe"/>
    <bpmn2:sequenceFlow id="Flow_ToEnd" sourceRef="Task_Freigabe" targetRef="EndEvent_1"/>

  </bpmn2:process>

  <!-- Diagram -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_Onboarding">

      <bpmndi:BPMNShape id="Shape_Start" bpmnElement="StartEvent_1">
        <dc:Bounds x="332" y="20" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Shape_GateSplit" bpmnElement="Gateway_Split">
        <dc:Bounds x="325" y="90" width="50" height="50"/>
      </bpmndi:BPMNShape>

      <!-- IT column (left) -->
      <bpmndi:BPMNShape id="Shape_Laptop" bpmnElement="Task_Laptop">
        <dc:Bounds x="60" y="180" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Zugaenge" bpmnElement="Task_Zugaenge">
        <dc:Bounds x="60" y="280" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Software" bpmnElement="Task_Software">
        <dc:Bounds x="60" y="380" width="150" height="60"/>
      </bpmndi:BPMNShape>

      <!-- HR column (center) -->
      <bpmndi:BPMNShape id="Shape_Vertrag" bpmnElement="Task_Vertrag">
        <dc:Bounds x="275" y="180" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Schulungen" bpmnElement="Task_Schulungen">
        <dc:Bounds x="275" y="280" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Willkommen" bpmnElement="Task_Willkommen">
        <dc:Bounds x="275" y="380" width="150" height="60"/>
      </bpmndi:BPMNShape>

      <!-- Fachbereich column (right) -->
      <bpmndi:BPMNShape id="Shape_Einarbeitung" bpmnElement="Task_Einarbeitung">
        <dc:Bounds x="490" y="180" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Mentor" bpmnElement="Task_Mentor">
        <dc:Bounds x="490" y="280" width="150" height="60"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Aufgaben" bpmnElement="Task_Aufgaben">
        <dc:Bounds x="490" y="380" width="150" height="60"/>
      </bpmndi:BPMNShape>

      <!-- Bottleneck node -->
      <bpmndi:BPMNShape id="Shape_Freigabe" bpmnElement="Task_Freigabe">
        <dc:Bounds x="275" y="490" width="150" height="60"/>
      </bpmndi:BPMNShape>

      <bpmndi:BPMNShape id="Shape_End" bpmnElement="EndEvent_1">
        <dc:Bounds x="332" y="590" width="36" height="36"/>
      </bpmndi:BPMNShape>

      <!-- Edges -->
      <bpmndi:BPMNEdge id="Edge_ToParSplit" bpmnElement="Flow_ToParSplit">
        <di:waypoint x="350" y="56"/>
        <di:waypoint x="350" y="90"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_ToIT" bpmnElement="Flow_ToIT">
        <di:waypoint x="325" y="115"/>
        <di:waypoint x="135" y="180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_ToHR" bpmnElement="Flow_ToHR">
        <di:waypoint x="350" y="140"/>
        <di:waypoint x="350" y="180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_ToFach" bpmnElement="Flow_ToFach">
        <di:waypoint x="375" y="115"/>
        <di:waypoint x="565" y="180"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_IT1" bpmnElement="Flow_IT1">
        <di:waypoint x="135" y="240"/>
        <di:waypoint x="135" y="280"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_IT2" bpmnElement="Flow_IT2">
        <di:waypoint x="135" y="340"/>
        <di:waypoint x="135" y="380"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_HR1" bpmnElement="Flow_HR1">
        <di:waypoint x="350" y="240"/>
        <di:waypoint x="350" y="280"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_HR2" bpmnElement="Flow_HR2">
        <di:waypoint x="350" y="340"/>
        <di:waypoint x="350" y="380"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Fach1" bpmnElement="Flow_Fach1">
        <di:waypoint x="565" y="240"/>
        <di:waypoint x="565" y="280"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Fach2" bpmnElement="Flow_Fach2">
        <di:waypoint x="565" y="340"/>
        <di:waypoint x="565" y="380"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_IT_Out" bpmnElement="Flow_IT_Out">
        <di:waypoint x="135" y="440"/>
        <di:waypoint x="275" y="520"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_HR_Out" bpmnElement="Flow_HR_Out">
        <di:waypoint x="350" y="440"/>
        <di:waypoint x="350" y="490"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_Fach_Out" bpmnElement="Flow_Fach_Out">
        <di:waypoint x="565" y="440"/>
        <di:waypoint x="425" y="520"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_ToEnd" bpmnElement="Flow_ToEnd">
        <di:waypoint x="350" y="550"/>
        <di:waypoint x="350" y="590"/>
      </bpmndi:BPMNEdge>

    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>

</bpmn2:definitions>
